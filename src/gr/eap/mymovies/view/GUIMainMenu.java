package gr.eap.mymovies.view;

import gr.eap.mymovies.controller.AppController;
import gr.eap.mymovies.controller.ControllerMovie;
import gr.eap.mymovies.controller.ControllerGenre;
import gr.eap.mymovies.controller.ControllerFavoriteList;
import gr.eap.mymovies.model.Movie;
import gr.eap.mymovies.model.FavoriteList;
import java.awt.Toolkit;
import java.io.IOException;
import java.text.ParseException;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.ListSelectionModel;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author akarafotis
 */
public class GUIMainMenu extends javax.swing.JFrame {

    private AppController appController;
    private ControllerMovie controllerMovie;
    private ControllerGenre controllerGenre;
    private ControllerFavoriteList controllerFavoriteList;
    private String movieTitle = "";

    boolean hasFavoriteList = false;

    public GUIMainMenu() {
        initComponents();
        // Κεντράρισμα του παραθύρου εφαρμογής στην οθόνη του υπολογιστή
        this.setLocationRelativeTo(null);
        genreComboBox.setSelectedIndex(-1);
        favoriteListComboBox.setSelectedIndex(-1);
        LayeredPane.removeAll();
        top10Panel.setVisible(false);
        topPerListPanel.setVisible(false);
        searchTablePanel.setVisible(false);

        // Init Application Controller
        controllerMovie = new ControllerMovie();
        controllerGenre = new ControllerGenre();
        controllerFavoriteList = new ControllerFavoriteList();
    }

    /**
     * This method is called from within the constructor to
     * initialize the form. WARNING: Do NOT modify this code.
     * The content of this method is always regenerated by the
     * Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        bindingGroup = new org.jdesktop.beansbinding.BindingGroup();

        myMoviesPUEntityManager = java.beans.Beans.isDesignTime() ? null : javax.persistence.Persistence.createEntityManagerFactory("myMoviesPU").createEntityManager();
        favoriteListQuery = java.beans.Beans.isDesignTime() ? null : myMoviesPUEntityManager.createQuery("SELECT f.name FROM FavoriteList f");
        genreQuery = java.beans.Beans.isDesignTime() ? null : myMoviesPUEntityManager.createQuery("SELECT g.name FROM Genre g");
        favoriteListsQuery = java.beans.Beans.isDesignTime() ? null : myMoviesPUEntityManager.createQuery("SELECT f.name FROM FavoriteList f");
        buttonsPanel = new javax.swing.JPanel();
        retrieveAndStoreMovies = new javax.swing.JButton();
        manageFavoriteLists = new javax.swing.JButton();
        searchMovies = new javax.swing.JButton();
        statistics = new javax.swing.JButton();
        exit = new javax.swing.JButton();
        LayeredPane = new javax.swing.JLayeredPane();
        statsPanel = new javax.swing.JPanel();
        top10Button = new javax.swing.JButton();
        topPerListButton = new javax.swing.JButton();
        top10Panel = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        top10Table = new javax.swing.JTable();
        topPerListPanel = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        topPerListTable = new javax.swing.JTable();
        favoritListsPanel = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        searchPanel = new javax.swing.JPanel();
        searchTablePanel = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        favoriteMoviesTable = new javax.swing.JTable();
        addtoListLabel = new javax.swing.JLabel();
        favoriteListComboBox = new javax.swing.JComboBox<>();
        reomoveFromListButton = new javax.swing.JButton();
        genreComboBox = new javax.swing.JComboBox<>();
        yearTextField = new javax.swing.JTextField();
        selectGenreLabel = new javax.swing.JLabel();
        yearLabel = new javax.swing.JLabel();
        searchMoviesLabel = new javax.swing.JLabel();
        searchButton = new javax.swing.JButton();
        clearButton = new javax.swing.JButton();
        MenuBar = new javax.swing.JMenuBar();
        MoviesMenu = new javax.swing.JMenu();
        retrieveAndStoreMoviesSubMenu = new javax.swing.JMenuItem();
        searchMoviesSubMenu = new javax.swing.JMenuItem();
        moviesListsMenu = new javax.swing.JMenu();
        manageFavoriteListsSubMenu = new javax.swing.JMenuItem();
        statisticsMenu = new javax.swing.JMenu();
        exitMenu = new javax.swing.JMenu();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setTitle("myMovies");
        setIconImage(Toolkit.getDefaultToolkit().getImage(GUIMainMenu.class.getResource("movies.png")));
        setMaximumSize(new java.awt.Dimension(1030, 700));
        setMinimumSize(new java.awt.Dimension(1030, 700));
        setPreferredSize(new java.awt.Dimension(1030, 700));
        setResizable(false);
        getContentPane().setLayout(null);

        buttonsPanel.setPreferredSize(new java.awt.Dimension(1050, 99));

        retrieveAndStoreMovies.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gr/eap/mymovies/view/restore.png"))); // NOI18N
        retrieveAndStoreMovies.setText("<html><center>Ανάκτηση &<br/>Αποθήκευση<br/>Δεδομένων Ταινιών</center></html>");
        retrieveAndStoreMovies.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                retrieveAndStoreMoviesActionPerformed(evt);
            }
        });

        manageFavoriteLists.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gr/eap/mymovies/view/manageLists.png"))); // NOI18N
        manageFavoriteLists.setText("<html><center>Διαχείριση Λιστών <br/>Αγαπημένων Ταινιών</center></html>");
        manageFavoriteLists.setToolTipText("");
        manageFavoriteLists.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                manageFavoriteListsActionPerformed(evt);
            }
        });

        searchMovies.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gr/eap/mymovies/view/searchMovie.png"))); // NOI18N
        searchMovies.setText("<html><center>Αναζήτηση<br/>Ταινιών</center></html>");
        searchMovies.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                persistGenres(evt);
            }
        });

        statistics.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gr/eap/mymovies/view/statMovies.png"))); // NOI18N
        statistics.setText("Στατιστικά");
        statistics.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deleteData(evt);
            }
        });

        exit.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gr/eap/mymovies/view/exit.png"))); // NOI18N
        exit.setText("Έξοδος");
        exit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                exitActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout buttonsPanelLayout = new javax.swing.GroupLayout(buttonsPanel);
        buttonsPanel.setLayout(buttonsPanelLayout);
        buttonsPanelLayout.setHorizontalGroup(
            buttonsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(buttonsPanelLayout.createSequentialGroup()
                .addComponent(retrieveAndStoreMovies, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(manageFavoriteLists, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(searchMovies, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(statistics, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(exit, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        buttonsPanelLayout.setVerticalGroup(
            buttonsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(buttonsPanelLayout.createSequentialGroup()
                .addGroup(buttonsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(retrieveAndStoreMovies, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(searchMovies, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(buttonsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(statistics, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(exit, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(manageFavoriteLists, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        getContentPane().add(buttonsPanel);
        buttonsPanel.setBounds(0, 0, 1024, 99);
        buttonsPanel.getAccessibleContext().setAccessibleName("ButtonPanel");

        statsPanel.setPreferredSize(new java.awt.Dimension(1035, 620));

        top10Button.setText("Οι Καλύτερες 10 Ταινίες");
        top10Button.setOpaque(false);
        top10Button.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                top10ButtonActionPerformed(evt);
            }
        });

        topPerListButton.setText("Οι Καλύτερες  Ταινίες ανά Λίστα");
        topPerListButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                topPerListButtonActionPerformed(evt);
            }
        });

        top10Table.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null},
                {null, null}
            },
            new String [] {
                "Όνομα ταινίας", "Βαθμολογία"
            }
        ));
        jScrollPane1.setViewportView(top10Table);

        javax.swing.GroupLayout top10PanelLayout = new javax.swing.GroupLayout(top10Panel);
        top10Panel.setLayout(top10PanelLayout);
        top10PanelLayout.setHorizontalGroup(
            top10PanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(top10PanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 330, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(37, Short.MAX_VALUE))
        );
        top10PanelLayout.setVerticalGroup(
            top10PanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(top10PanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(410, Short.MAX_VALUE))
        );

        topPerListTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null},
                {null},
                {null}
            },
            new String [] {
                "Όνομα ταινίας"
            }
        ));
        jScrollPane3.setViewportView(topPerListTable);

        javax.swing.GroupLayout topPerListPanelLayout = new javax.swing.GroupLayout(topPerListPanel);
        topPerListPanel.setLayout(topPerListPanelLayout);
        topPerListPanelLayout.setHorizontalGroup(
            topPerListPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, topPerListPanelLayout.createSequentialGroup()
                .addContainerGap(42, Short.MAX_VALUE)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 331, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27))
        );
        topPerListPanelLayout.setVerticalGroup(
            topPerListPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(topPerListPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(399, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout statsPanelLayout = new javax.swing.GroupLayout(statsPanel);
        statsPanel.setLayout(statsPanelLayout);
        statsPanelLayout.setHorizontalGroup(
            statsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(statsPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(statsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(topPerListButton)
                    .addComponent(top10Button))
                .addGap(53, 53, 53)
                .addComponent(top10Panel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(408, Short.MAX_VALUE))
            .addGroup(statsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, statsPanelLayout.createSequentialGroup()
                    .addContainerGap(625, Short.MAX_VALUE)
                    .addComponent(topPerListPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap()))
        );
        statsPanelLayout.setVerticalGroup(
            statsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(statsPanelLayout.createSequentialGroup()
                .addGroup(statsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(statsPanelLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(top10Panel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(statsPanelLayout.createSequentialGroup()
                        .addGap(80, 80, 80)
                        .addComponent(top10Button)
                        .addGap(44, 44, 44)
                        .addComponent(topPerListButton)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
            .addGroup(statsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(statsPanelLayout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(topPerListPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
        );

        favoritListsPanel.setPreferredSize(new java.awt.Dimension(1035, 620));

        jLabel5.setText("Διαχείριση Ταινιών");

        javax.swing.GroupLayout favoritListsPanelLayout = new javax.swing.GroupLayout(favoritListsPanel);
        favoritListsPanel.setLayout(favoritListsPanelLayout);
        favoritListsPanelLayout.setHorizontalGroup(
            favoritListsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(favoritListsPanelLayout.createSequentialGroup()
                .addGap(112, 112, 112)
                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(822, Short.MAX_VALUE))
        );
        favoritListsPanelLayout.setVerticalGroup(
            favoritListsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(favoritListsPanelLayout.createSequentialGroup()
                .addGap(99, 99, 99)
                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(475, Short.MAX_VALUE))
        );

        searchPanel.setMinimumSize(new java.awt.Dimension(1035, 735));
        searchPanel.setPreferredSize(new java.awt.Dimension(1035, 620));

        favoriteMoviesTable.setAutoCreateRowSorter(true);
        favoriteMoviesTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null}
            },
            new String [] {
                "Τίτλος ταινίας", "Βαθμολογία", "Περιγραφή"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Object.class, java.lang.Object.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        favoriteMoviesTable.setShowVerticalLines(false);
        favoriteMoviesTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                favoriteMoviesTableMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(favoriteMoviesTable);

        addtoListLabel.setText("Προσθήκη σε Λίστα");
        addtoListLabel.setOpaque(true);

        org.jdesktop.beansbinding.ELProperty eLProperty = org.jdesktop.beansbinding.ELProperty.create("${resultList}");
        org.jdesktop.swingbinding.JComboBoxBinding jComboBoxBinding = org.jdesktop.swingbinding.SwingBindings.createJComboBoxBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, favoriteListQuery, eLProperty, favoriteListComboBox);
        bindingGroup.addBinding(jComboBoxBinding);

        favoriteListComboBox.addHierarchyBoundsListener(new java.awt.event.HierarchyBoundsListener() {
            public void ancestorMoved(java.awt.event.HierarchyEvent evt) {
                favoriteListComboBoxAncestorMoved(evt);
            }
            public void ancestorResized(java.awt.event.HierarchyEvent evt) {
            }
        });
        favoriteListComboBox.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                favoriteListComboBoxMouseClicked(evt);
            }
            public void mousePressed(java.awt.event.MouseEvent evt) {
                favoriteListComboBoxMousePressed(evt);
            }
        });
        favoriteListComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                favoriteListComboBoxActionPerformed(evt);
            }
        });

        reomoveFromListButton.setText("Αφαίρεση από Λίστα");
        reomoveFromListButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                reomoveFromListButtonMouseClicked(evt);
            }
        });
        reomoveFromListButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                none(evt);
            }
        });

        javax.swing.GroupLayout searchTablePanelLayout = new javax.swing.GroupLayout(searchTablePanel);
        searchTablePanel.setLayout(searchTablePanelLayout);
        searchTablePanelLayout.setHorizontalGroup(
            searchTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchTablePanelLayout.createSequentialGroup()
                .addContainerGap(29, Short.MAX_VALUE)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 641, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(21, 21, 21))
            .addGroup(searchTablePanelLayout.createSequentialGroup()
                .addGap(156, 156, 156)
                .addComponent(addtoListLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(favoriteListComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(72, 72, 72)
                .addComponent(reomoveFromListButton)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        searchTablePanelLayout.setVerticalGroup(
            searchTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchTablePanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 489, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(searchTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(addtoListLabel)
                    .addComponent(favoriteListComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(reomoveFromListButton))
                .addGap(139, 139, 139))
        );

        genreComboBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        eLProperty = org.jdesktop.beansbinding.ELProperty.create("${resultList}");
        jComboBoxBinding = org.jdesktop.swingbinding.SwingBindings.createJComboBoxBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, genreQuery, eLProperty, genreComboBox);
        bindingGroup.addBinding(jComboBoxBinding);

        genreComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                genreComboBoxActionPerformed(evt);
            }
        });

        yearTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                yearTextFieldKeyTyped(evt);
            }
        });

        selectGenreLabel.setText("Επιλέξτε είδος");

        yearLabel.setText("Έτος Κυκλοφορίας");

        searchMoviesLabel.setText("Αναζήτηση Ταινιών");

        searchButton.setText("Αναζήτηση");
        searchButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchButtonActionPerformed(evt);
            }
        });

        clearButton.setText("Καθαρισμός Κριτηρίων");
        clearButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout searchPanelLayout = new javax.swing.GroupLayout(searchPanel);
        searchPanel.setLayout(searchPanelLayout);
        searchPanelLayout.setHorizontalGroup(
            searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(searchPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(searchPanelLayout.createSequentialGroup()
                        .addGap(40, 40, 40)
                        .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(searchPanelLayout.createSequentialGroup()
                                .addGap(43, 43, 43)
                                .addComponent(searchMoviesLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 28, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchPanelLayout.createSequentialGroup()
                                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(selectGenreLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(yearLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 104, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(genreComboBox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(yearTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                    .addGroup(searchPanelLayout.createSequentialGroup()
                        .addComponent(searchButton)
                        .addGap(72, 72, 72)
                        .addComponent(clearButton)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 30, Short.MAX_VALUE)
                .addComponent(searchTablePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        searchPanelLayout.setVerticalGroup(
            searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(searchPanelLayout.createSequentialGroup()
                .addGap(31, 31, 31)
                .addComponent(searchMoviesLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(genreComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(selectGenreLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(26, 26, 26)
                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(yearTextField)
                    .addComponent(yearLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(24, 24, 24)
                .addGroup(searchPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(searchButton)
                    .addComponent(clearButton))
                .addGap(535, 535, 535))
            .addGroup(searchPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(searchTablePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        LayeredPane.setLayer(statsPanel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        LayeredPane.setLayer(favoritListsPanel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        LayeredPane.setLayer(searchPanel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout LayeredPaneLayout = new javax.swing.GroupLayout(LayeredPane);
        LayeredPane.setLayout(LayeredPaneLayout);
        LayeredPaneLayout.setHorizontalGroup(
            LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1035, Short.MAX_VALUE)
            .addGroup(LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(LayeredPaneLayout.createSequentialGroup()
                    .addComponent(favoritListsPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 1030, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 5, Short.MAX_VALUE)))
            .addGroup(LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(searchPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(LayeredPaneLayout.createSequentialGroup()
                    .addComponent(statsPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 1031, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 4, Short.MAX_VALUE)))
        );
        LayeredPaneLayout.setVerticalGroup(
            LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 631, Short.MAX_VALUE)
            .addGroup(LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, LayeredPaneLayout.createSequentialGroup()
                    .addComponent(favoritListsPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(LayeredPaneLayout.createSequentialGroup()
                    .addComponent(searchPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 631, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 0, Short.MAX_VALUE)))
            .addGroup(LayeredPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(statsPanel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 631, Short.MAX_VALUE))
        );

        getContentPane().add(LayeredPane);
        LayeredPane.setBounds(0, 110, 1030, 630);

        MoviesMenu.setText("Ταινίες");

        retrieveAndStoreMoviesSubMenu.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_R, java.awt.event.InputEvent.ALT_MASK));
        retrieveAndStoreMoviesSubMenu.setText("Ανάκτηση και Αποθήκευση Δεδομένων Ταινιών");
        MoviesMenu.add(retrieveAndStoreMoviesSubMenu);

        searchMoviesSubMenu.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_S, java.awt.event.InputEvent.ALT_MASK));
        searchMoviesSubMenu.setText("Αναζήτηση Ταινιών");
        MoviesMenu.add(searchMoviesSubMenu);

        MenuBar.add(MoviesMenu);
        MoviesMenu.getAccessibleContext().setAccessibleDescription("");

        moviesListsMenu.setText("Λίστες Ταινιών");
        moviesListsMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                moviesListsMenuMouseClicked(evt);
            }
        });

        manageFavoriteListsSubMenu.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_M, java.awt.event.InputEvent.ALT_MASK));
        manageFavoriteListsSubMenu.setText("Διαχείριση Λιστών Αγαπημένων Ταινιών");
        manageFavoriteListsSubMenu.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                manageFavoriteListsSubMenuActionPerformed(evt);
            }
        });
        moviesListsMenu.add(manageFavoriteListsSubMenu);

        MenuBar.add(moviesListsMenu);

        statisticsMenu.setText("Στατιστικά");
        MenuBar.add(statisticsMenu);

        exitMenu.setText("Έξοδος");
        MenuBar.add(exitMenu);

        setJMenuBar(MenuBar);

        bindingGroup.bind();

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void retrieveAndStoreMoviesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_retrieveAndStoreMoviesActionPerformed
        controllerMovie.clearTable();
        controllerGenre.clearTable();
        try {
            controllerGenre.retrieveAndPersistGenres();
            controllerMovie.retrieveAndPersistMovies();
            JOptionPane.showMessageDialog(this, "Η ανάκτηση των δεδομένων ολοκληρώθηκε");
        } catch (IOException ex) {
            Logger.getLogger(GUIMainMenu.class.getName()).log(Level.SEVERE, null, ex);
            JOptionPane.showMessageDialog(this, "Κατι δεν πήγε καλά");
        } catch (ParseException ex) {
            Logger.getLogger(GUIMainMenu.class.getName()).log(Level.SEVERE, null, ex);
            JOptionPane.showMessageDialog(this, "Κατι δεν πήγε καλά");
        }
    }//GEN-LAST:event_retrieveAndStoreMoviesActionPerformed

    private void manageFavoriteListsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_manageFavoriteListsActionPerformed
        switchPanels(favoritListsPanel);
    }//GEN-LAST:event_manageFavoriteListsActionPerformed

    private void exitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exitActionPerformed
        System.out.println("exiting myMovies application");
        System.exit(0);
    }//GEN-LAST:event_exitActionPerformed

    private void persistGenres(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_persistGenres
        switchPanels(searchPanel);
        favoriteMoviesTable.setVisible(false);
        searchTablePanel.setVisible(false);
    }//GEN-LAST:event_persistGenres

    private void deleteData(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deleteData
        switchPanels(statsPanel);
    }//GEN-LAST:event_deleteData

    private void manageFavoriteListsSubMenuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_manageFavoriteListsSubMenuActionPerformed

    }//GEN-LAST:event_manageFavoriteListsSubMenuActionPerformed

    private void moviesListsMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_moviesListsMenuMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_moviesListsMenuMouseClicked

    private void favoriteListComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_favoriteListComboBoxActionPerformed

        if (hasFavoriteList && favoriteListComboBox.getSelectedItem() != null) {
            String selectedFavoriteList = (String) favoriteListComboBox.getSelectedItem();
            if (selectedFavoriteList == null || movieTitle == "") {
                JOptionPane.showMessageDialog(this, "Πρέπει να επιλέξετε μια ταινία και μια λιστα");
            } else {
                List<FavoriteList> list = controllerFavoriteList.selectFL(selectedFavoriteList);
                FavoriteList fl = list.get(0);

                System.out.println(fl);
                List<Movie> selectedMovies = controllerMovie.selectMovie(movieTitle);
                Movie m = selectedMovies.get(0);
                System.out.println(selectedMovies.get(0).getTitle());

                try {
                    controllerMovie.updateMovie(m, fl);
                    JOptionPane.showMessageDialog(this, "Η ταινία " + m.getTitle() + " προστέθηκε στη λίστα Αγαπημένων " + fl.getName());
                    hasFavoriteList = false;
                } catch (IOException ex) {
                    Logger.getLogger(GUIMainMenu.class.getName()).log(Level.SEVERE, null, ex);
                } catch (ParseException ex) {
                    Logger.getLogger(GUIMainMenu.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        }
    }//GEN-LAST:event_favoriteListComboBoxActionPerformed

    private void searchButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchButtonActionPerformed
        movieTitle = "";
        favoriteListComboBox.setSelectedIndex(-1);
        String selectedGenre = (String) genreComboBox.getSelectedItem();
        String year = yearTextField.getText();

        try {
            int k = Integer.parseInt(yearTextField.getText());

        } catch (Exception z) {
            JOptionPane.showMessageDialog(this, "Στο πεδίο Έτος Κυκλοφορίας πρέπει να εισάγετε 4  αριθμητικά ψηφία",
                    "Λάθος Καταχώρηση", JOptionPane.ERROR_MESSAGE);
            yearTextField.setText("");
            return;
        }

        if ((int) (Math.log10(Integer.parseInt(yearTextField.getText())) + 1) != 4) {
            JOptionPane.showMessageDialog(this, "Το πεδίο έτος αποτελείται από 4 ψηφία");
        } else if (genreComboBox.getSelectedItem() == null || yearTextField.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Πρέπει να συμπληρώσετε το έτος και το είδος");
        } else {
            favoriteMoviesTable.setVisible(true);
            System.out.println("ok");
            List<Movie> filteredMovies = controllerMovie.searchMovies(selectedGenre, year);
            if (filteredMovies.size() == 0) {
                searchTablePanel.setVisible(false);
                JOptionPane.showMessageDialog(this, "Δεν βρέθηκε ταινία με αυτά τα κτιτήρια");
            } else {
                searchTablePanel.setVisible(true);
                favoriteMoviesTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
                favoriteMoviesTable.getColumnModel().getColumn(0).setMinWidth(50);
                favoriteMoviesTable.getColumnModel().getColumn(1).setMinWidth(20);
                favoriteMoviesTable.getColumnModel().getColumn(2).setMinWidth(200);

                for (Movie m : filteredMovies) {
                    System.out.println(m.getTitle());
                }
                int colCount = favoriteMoviesTable.getColumnCount();

                DefaultTableModel tModel = (DefaultTableModel) favoriteMoviesTable.getModel();
                tModel.setRowCount(0);
                Object[] ob = new Object[colCount];

                for (Movie m : filteredMovies) {
                    for (int row = 0; row < filteredMovies.size(); row++) {
                        ob[0] = m.getTitle();
                        ob[1] = m.getRating();
                        ob[2] = m.getOverview();
                    }
                    tModel.addRow(ob);
                }
            }
        }
    }//GEN-LAST:event_searchButtonActionPerformed

    private void genreComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_genreComboBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_genreComboBoxActionPerformed

    private void clearButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearButtonActionPerformed
        genreComboBox.setSelectedIndex(-1);
        yearTextField.setText("");
    }//GEN-LAST:event_clearButtonActionPerformed

    private void favoriteMoviesTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_favoriteMoviesTableMouseClicked
        //Get the movie title with sorted table listener
        DefaultTableModel model = (DefaultTableModel) favoriteMoviesTable.getModel();
        int selectedRowIndex = favoriteMoviesTable.getSelectedRow();
        System.out.println(model.getValueAt(favoriteMoviesTable.getRowSorter().convertRowIndexToModel(selectedRowIndex), 0));
        movieTitle = (model.getValueAt(favoriteMoviesTable.getRowSorter().convertRowIndexToModel(selectedRowIndex), 0)).toString();
        List<Movie> selectedMovies = controllerMovie.selectMovie(movieTitle);
        Movie m = selectedMovies.get(0);

        if (m.getFavoriteListId() != null) {
            List<FavoriteList> favoriteLists = controllerFavoriteList.findAll();
            FavoriteList favoriteList = controllerFavoriteList.findFavoriteListById(m.getFavoriteListId().getId());
            int idx = favoriteLists.indexOf(favoriteList);
            favoriteListComboBox.setSelectedIndex(idx);
        } else {
            favoriteListComboBox.setSelectedIndex(-1);
        }

    }//GEN-LAST:event_favoriteMoviesTableMouseClicked

    private void favoriteListComboBoxMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_favoriteListComboBoxMouseClicked

    }//GEN-LAST:event_favoriteListComboBoxMouseClicked

    private void none(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_none
        // TODO add your handling code here:
    }//GEN-LAST:event_none

    private void reomoveFromListButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_reomoveFromListButtonMouseClicked
        List<Movie> selectedMovies = controllerMovie.selectMovie(movieTitle);
        Movie m = selectedMovies.get(0);
        System.out.println(selectedMovies.get(0).getTitle());
        try {
            favoriteListComboBox.setSelectedIndex(-1);
            controllerMovie.updateMovie(m, null);
        } catch (IOException ex) {
            Logger.getLogger(GUIMainMenu.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ParseException ex) {
            Logger.getLogger(GUIMainMenu.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_reomoveFromListButtonMouseClicked

    private void favoriteListComboBoxAncestorMoved(java.awt.event.HierarchyEvent evt) {//GEN-FIRST:event_favoriteListComboBoxAncestorMoved
        // TODO add your handling code here:
    }//GEN-LAST:event_favoriteListComboBoxAncestorMoved

    private void top10ButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_top10ButtonActionPerformed

        top10Panel.setVisible(true);
        List<Movie> top10Movies = controllerMovie.findTop10Movies();
        top10Table.getColumnModel().getColumn(0).setMinWidth(50);
        top10Table.getColumnModel().getColumn(1).setMinWidth(20);

        int colCount = top10Table.getColumnCount();

        DefaultTableModel tModel = (DefaultTableModel) top10Table.getModel();
        tModel.setRowCount(0);
        Object[] ob = new Object[colCount];

        for (Movie m : top10Movies) {
            for (int row = 0; row < top10Movies.size(); row++) {
                ob[0] = m.getTitle();
                ob[1] = m.getRating();
            }
            tModel.addRow(ob);
        }

    }//GEN-LAST:event_top10ButtonActionPerformed

    private void topPerListButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_topPerListButtonActionPerformed
        topPerListPanel.setVisible(true);

        int colCount = topPerListTable.getColumnCount();
        DefaultTableModel tModel = (DefaultTableModel) topPerListTable.getModel();
        tModel.setRowCount(0);
        Object[] ob = new Object[colCount];
        List<FavoriteList> favoriteList = controllerFavoriteList.findAll();

        for (FavoriteList fl : favoriteList) {
            List<Movie> moviesByFL = controllerMovie.selectMovieByFavoriteList(fl);
            if (moviesByFL.size() != 0) {
                ob[0] = moviesByFL.get(0).getTitle();
                tModel.addRow(ob);
            }
        }
    }//GEN-LAST:event_topPerListButtonActionPerformed

    private void yearTextFieldKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_yearTextFieldKeyTyped

    }//GEN-LAST:event_yearTextFieldKeyTyped

    private void favoriteListComboBoxMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_favoriteListComboBoxMousePressed
        hasFavoriteList = true;
    }//GEN-LAST:event_favoriteListComboBoxMousePressed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(GUIMainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(GUIMainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(GUIMainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(GUIMainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new GUIMainMenu().setVisible(true);
            }
        });
    }

    public void switchPanels(JPanel panel) {
        LayeredPane.removeAll();
        LayeredPane.add(panel);
        LayeredPane.repaint();
        LayeredPane.revalidate();
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLayeredPane LayeredPane;
    private javax.swing.JMenuBar MenuBar;
    private javax.swing.JMenu MoviesMenu;
    private javax.swing.JLabel addtoListLabel;
    private javax.swing.JPanel buttonsPanel;
    private javax.swing.JButton clearButton;
    private javax.swing.JButton exit;
    private javax.swing.JMenu exitMenu;
    private javax.swing.JPanel favoritListsPanel;
    private javax.swing.JComboBox<String> favoriteListComboBox;
    private javax.persistence.Query favoriteListQuery;
    private javax.persistence.Query favoriteListsQuery;
    private javax.swing.JTable favoriteMoviesTable;
    private javax.swing.JComboBox<String> genreComboBox;
    private javax.persistence.Query genreQuery;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JButton manageFavoriteLists;
    private javax.swing.JMenuItem manageFavoriteListsSubMenu;
    private javax.swing.JMenu moviesListsMenu;
    private javax.persistence.EntityManager myMoviesPUEntityManager;
    private javax.swing.JButton reomoveFromListButton;
    private javax.swing.JButton retrieveAndStoreMovies;
    private javax.swing.JMenuItem retrieveAndStoreMoviesSubMenu;
    private javax.swing.JButton searchButton;
    private javax.swing.JButton searchMovies;
    private javax.swing.JLabel searchMoviesLabel;
    private javax.swing.JMenuItem searchMoviesSubMenu;
    private javax.swing.JPanel searchPanel;
    private javax.swing.JPanel searchTablePanel;
    private javax.swing.JLabel selectGenreLabel;
    private javax.swing.JButton statistics;
    private javax.swing.JMenu statisticsMenu;
    private javax.swing.JPanel statsPanel;
    private javax.swing.JButton top10Button;
    private javax.swing.JPanel top10Panel;
    private javax.swing.JTable top10Table;
    private javax.swing.JButton topPerListButton;
    private javax.swing.JPanel topPerListPanel;
    private javax.swing.JTable topPerListTable;
    private javax.swing.JLabel yearLabel;
    private javax.swing.JTextField yearTextField;
    private org.jdesktop.beansbinding.BindingGroup bindingGroup;
    // End of variables declaration//GEN-END:variables
}
